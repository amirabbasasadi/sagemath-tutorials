# انتگرال گیری در SageMath
در این صفحه شیوه محاسبه انتگرال معین و نامعین و همچنین محاسبه انتگرال به شیوه های عددی توضیح داده شده است.
## انتگرال نامعین
برای محاسبه انتگرال نامعین از تابع `integral` استفاده می کنیم. دو ورودی اول این تابع به ترتیب تابع موردنظر و متغیری است که نسبت به آن انتگرال گیری می کنیم.به عنوان مثال :  
$$ \int{\frac{x}{1+x^3}\,dx} $$
```python
integral(x/(1+x^3), x)
# output: 1/3*sqrt(3)*arctan(1/3*sqrt(3)*(2*x - 1)) + 1/6*log(x^2 - x + 1) - 1/3*log(x + 1)
```
این تابع از توابعی که تابع اولیه آن ها شناخته شده نیست هم پشتیبانی می کند برای مثال انتگرال زیر:  
$$ \int{e^{-x^2}\,dx} $$
```python
integral(e^(-x^2), x)
# output: 1/2*sqrt(pi)*erf(x)
```
همانطور که دیدید برنامه حاصل انتگرال را بر حسب تابع خطا محاسبه می کند.
## انتگرال معین
برای محاسبه انتگرال معین یک تابع کافی است علاوه بر ورودی های قبلی، ابتدا و انتهای بازه انتگرال گیری را هم به تابع `integral` پاس دهیم. مثلا:
$$ \int_0^\pi{\sin^6{x}\cos^2{x}\,dx} $$
```python
integral(sin(x)^6*cos(x)^2, x, 0, pi)
# output: 5/128*pi
```

### انتگرال ناسره
برای محاسبه انتگرال ناسره می توان از روش گفته شده استفاده کرد. دقت کنید که برای بی نهایت از `oo` استفاده می شود. مثلا:
$$ \int_1^{\infty}{\frac{1}{x^4}\,dx} $$
```python
integral(1/x^4, x, 1, oo)
# output: 1/3
```
توجه کنید که در صورت واگرایی انتگرال، برنامه خطایی مبنی بر واگرایی انتگرال نمایش خواهد داد. برای مثال:  
$$ \int_1^\infty{\frac{dx}{x}} $$
```python
integral(1/x, x, 1, oo)
# output: ValueError: Integral is divergent.
```
## محاسبه انتگرال به شیوه های عددی
تابع `numerical_integral` برای محاسبه انتگرال به شیوه های عددی نوشته شده است. ورودی اول این تابع، تابع موردنظر و ابتدا و انتهای بازه انتگرال گیری بترتیب ورودی های دوم و سوم هستند.خروجی این تابع مقدار تخمین زده شده انتگرال و همچنین حدی برای خطا است.برای مثال فرض کنید قصد داریم مقدار زیر را تخمین بزنیم:
$$\int_0^6{\frac{1}{\sqrt{8\pi}}e^{-\frac{(x-5)^2}{8}}\,dx} $$
```python
numerical_integral(1/sqrt(8*pi) * e^(-(x-5)^2/8), 0, 6)
# output: (0.6852527959482371, 7.607834317504969e-15)
```
البته لازم به ذکر است که مثال بالا صرفا برای نمایش قابلیت انتگرال گیری عددی نوشته شده و برای محاسبه توزیع های احتمال در Sage می توان از توابع آماده آنها استفاده کرد و نیازی به نوشتن آن ها به شکل بالا نیست.
